Как поднять бота на сервере.

Наш бот это обычный сервер который находится в файле source/telegram-bot/app.js
В этом файле обычный сервер на express и к боту имеют отношения только две строчки

app.use(bot.webhookCallback('/secret-path'));
bot.telegram.setWebhook(`${config.botHost}/secret-path`);

что здесь происходит мы подлючаем нашего бота к express серверу и второй строчкой
мы явно указваем host на котором наш бот будет жить -> bot.telegram.setWebhook(`${config.botHost}/secret-path`);

Что нужно сделать. В файле telegram-bot/index.js находятся конфиг для подключение бота к нашему прилоежнию
Так вот. В этом конфиге есть два поле appHost и botHost; В appHost нужно указать где лежить наше приложение,
уже задеплоинное. (Например https://achivka.ru/)

И вот тут начинается сама трабла.
Нужно сделать с сервером бота то же самое что и для нашего сервера приложение
А именно задеплоить его на сервер и ОБЕЗАТЕЛЬНО подключить https иначе телеграм не подхватит этот сервер.
Затем вставить адрес нашего телеграм сервера в кофиг ( Например botHost: https://achivka-telegram-bot.ru/)


Чтобы проверить все это дело локально без деплоя,
1. поднимите сервер пложения npm start,
2. C помощью ngrok http <номер порта сервера с телеграм ботом> запроксируйте сервер где будет подниматься сервер с ботом
(что такое ngrok и как им пользоваться можно почитать здесь https://ngrok.com/) После того как запустите ngrok он выдаст нам
ссылки на http proxy и на https. Нам нужен https, копируем его и вставляем в source/telegram-bot/index.js в поле botHost
3. Поднимите сервер телеграмм бота npm run start:bot

После этого должно все поднятся.
